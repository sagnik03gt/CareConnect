<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="Description" content="Enter your description here" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="user_main.css" />
    <title>User_profile_CareConnect</title>
  </head>
  <body>
    <nav
      class="navbar navbar-light"
      style="
        background: linear-gradient(
          70deg,
          rgba(63, 251, 217, 1) 0%,
          rgba(147, 241, 58, 1) 100%
        );
      "
    >
      <a href="#" id="logo" target="_blank"
        ><img
          src="images/help.png"
          alt=""
          width="60px "
          style="margin-right: 0"
        />
        <h2 style="color: rgb(3, 22, 96)">CareConnect</h2></a
      >
      <!-- <span class="navbar-brand mb-0 h1" id="user_profile_heading"
        >My Profile</span
      > -->
      <a href="user_main.html" id="main_page_small">
        <i class="bi bi-arrow-left-circle-fill" style="color: navy"></i
      ></a>
      <a href="user_main.html" id="main_page_link"
        ><i class="bi bi-arrow-left mr-1"></i>Home</a
      >
    </nav>
    <div class="container" style="text-align: center">
      <div class="row mt-5">
        <div class="col-md-3 mr-5 mb-5" id="profile_pic">
          <img
            src="/images/bussiness-man.png"
            alt=""
            width="75px"
            class="mb-2 mt-2"
          />
          <h5>User Name</h5>
          <h6>User_id</h6>
        </div>
        <div class="col-md-5 ml-6" id="user_profile_det">
          <div class="row mb-2 mt-2">
            <div class="col-md-4 ml-2 pl-1 pt-1" style="color: black">
              <p>Name</p>
            </div>
            <div
              class="col-md-6 ml-2 pl-1 pt-1 border border-success rounded"
              id="username"
            ></div>
          </div>
          <div class="row mb-2">
            <div class="col-md-4 ml-2 pl-1 pt-1" style="color: black">
              <p>DOB</p>
            </div>
            <div
              class="col-md-6 ml-2 pl-1 pt-1 border border-success rounded"
              id="dob"
            ></div>
          </div>
          <div class="row mb-2">
            <div class="col-md-4 ml-2 pl-1 pt-1" style="color: black">
              <p>Address</p>
            </div>
            <div
              class="col-md-6 ml-2 pl-1 pt-1 border border-success rounded"
              id="address"
            ></div>
          </div>
          <div class="row mb-2">
            <div class="col-md-4 ml-2 pl-1 pt-1" style="color: black">
              <p>Email</p>
            </div>
            <div
              class="col-md-6 ml-2 pl-1 pt-1 border border-success rounded"
              id="useremail"
            ></div>
          </div>
          <div class="row mb-2">
            <div class="col-md-4 ml-2 pl-1 pt-1" style="color: black">
              <p>Contact No.</p>
            </div>
            <div
              class="col-md-6 ml-2 pl-1 pt-1 border border-success rounded"
              id="contact"
            ></div>
          </div>
          <!-- <div class="row mb-2">
            <div class="col-md-4 ml-2 pl-1 pt-1">
              <p>User_id</p>
            </div>
            <div
              class="col-md-6 ml-2 pl-1 pt-1 border border-success rounded"
              id="userid"
            ></div>
          </div> -->
          <div class="row mb-2">
            <div class="col-md-4 ml-2 pl-1 pt-1" style="color: black">
              <p>Password</p>
            </div>
            <div
              class="col-md-6 ml-2 pl-1 pt-1 mb-0 border border-success rounded"
              id="password"
            ></div>
          </div>
        </div>
      </div>
    </div>
    <script>
      var main = document.getElementById("main_page_link");

      // script.js

      document.addEventListener("DOMContentLoaded", () => {
        // API endpoint
        baseurl = "http://localhost:6999/SmartCare/Customer";
        userId = localStorage.getItem("userid");
        const apiUrl = `http://localhost:6999/SmartCare/Customer/${userId}`;

        // Function to fetch data from API
        async function fetchData() {
          try {
            const response = await fetch(apiUrl);
            if (!response.ok) {
              throw new Error(
                "Network response was not ok " + response.statusText
              );
            }
            const data = await response.json();
            console.log(data);
            displayData(data);
          } catch (error) {
            console.error(
              "There has been a problem with your fetch operation:",
              error
            );
          }
        }

        // Function to display data in HTML
        function displayData(data) {
          const username = document.getElementById("username");
          username.innerHTML = data.response[0].username;
          const dob = document.getElementById("dob");
          dob.innerHTML = data.response[0].dob;
          const address = document.getElementById("address");
          address.innerHTML = data.response[0].address;
          const useremail = document.getElementById("useremail");
          useremail.innerHTML = data.response[0].email;
          const contact = document.getElementById("contact");
          contact.innerHTML = data.response[0].phoneNumber;
          const password = document.getElementById("password");
          password.innerHTML = data.response[0].password;
        }

        // Call the fetchData function to get and display the data
        fetchData();
      });
    </script>
    <!-- <div class="container-fluid bg-light" id="user_profile_heading"></div> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js"></script>
  </body>
  <script></script>
</html>
